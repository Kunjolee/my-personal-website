import{globalProjects as a,globalSkills as b,myEmail as c,projectsTechnologies as d}from"./globalData.min.js";let doc=document,sections=doc.querySelectorAll("[data-scroll-spy]"),callback=a=>{a.forEach(b=>{let a=b.target.id;b.isIntersecting?(doc.querySelector(`[data-scroll-id="${a}"]`).classList.add("fixed-navbar__link--active"),doc.getElementById(a).classList.add("section-active")):(doc.querySelector(`[data-scroll-id="${a}"]`).classList.remove("fixed-navbar__link--active"),doc.getElementById(a).classList.remove("section-active"))})},io=new IntersectionObserver(callback,{threshold:.1});sections.forEach(a=>io.observe(a));let projectsSection=doc.getElementById("projects-scroll"),projectsArticle=doc.getElementById("project-container"),skillsContainer=doc.getElementById("skillsContainer"),getAllCategories=(a=[])=>{let b=a.map(a=>`
      <article class="projects-section__article">
        <div class="projects-section__article-container">
          <div class="projects-section__image">
            <img class="projects-section__image-item" src=${a.image} alt=${a.alt}>            
            <div class="projects-section__view-container">
              <div class="projects-section__view">
                <a href=${a.url} target="_blank" rel="noreferrer">                    
                  <img src="./img/page-view.png" alt="page-view">                  
                </a>
              </div>              
              <div class="projects-section__view">
                <a href=${a.github} target="_blank" rel="noreferrer">
                  <img src="./img/github-view.png" alt="page-view">                  
                </a>
              </div>
            </div>
            <div class="projects-section__type">${a.categoryText}</div>
          </div>
          <div class="projects-section__information">
            <div class="projects-section__information-container">
              <h3 class="projects-section__information_title">
                ${a.title}
              </h3>              
            </div>
            <div class="projects-section__details">                                    
              <p>${a.text}</p>            
              <div class="projects-section__technologies"></div>              
            </div>
          </div>
        </div>
      </article>
    `);projectsArticle.innerHTML=b.join("")},getCategories=(a=[],d="")=>{let b=a.filter(a=>a.category===d),c=b.map(a=>`
      <article class="projects-section__article">
        <div class="projects-section__article-container">
          <div class="projects-section__image">
            <img class="projects-section__image-item" src=${a.image} alt=${a.alt}>            
            <div class="projects-section__view-container">
              <div class="projects-section__view">
                <a href=${a.url} target="_blank" rel="noreferrer">                    
                  <img src="./img/page-view.png" alt="page-view">                  
                </a>
              </div>              
              <div class="projects-section__view">
                <a href=${a.github} target="_blank" rel="noreferrer">
                  <img src="./img/github-view.png" alt="page-view">                  
                </a>
              </div>
            </div>
            <div class="projects-section__type">
              ${a.categoryText}
            </div>
          </div>
          <div class="projects-section__information">
            <div class="projects-section__information-container">
              <h3 class="projects-section__information_title">
                ${a.title}
              </h3>                            
            </div>
            <div class="projects-section__details">                            
              <p>${a.text}</p>            
              <div class="projects-section__technologies"></div>              
            </div>
          </div>
        </div>
      </article>
    `);projectsArticle.innerHTML=c.join("")},getSkills=(a=[])=>{let b=a.map(a=>`
      <article class="skills-section__article">
        <div class="skills-section__image ${a.skillColor}">
          <img src=${a.image} alt=${a.alt}>
        </div>
        <p class="skills-section__text">${a.text}</p>
      </article>
    `);skillsContainer.innerHTML=b.join("")},getTechnologies=()=>{let a=doc.querySelectorAll(".projects-section__article");a.forEach(a=>{let c=a.querySelector(".projects-section__image-item").alt,b=d.find(a=>a.altRef===c);if(c===b.altRef){let e=b.technologies.map(a=>`<li>${a}</li>`),f=a.querySelector(".projects-section__technologies");f.innerHTML=e.join("")}})};doc.addEventListener("DOMContentLoaded",()=>{getAllCategories(a),getSkills(b),getTechnologies()}),doc.addEventListener("click",b=>{if(b.target.matches(".projects-section__category")){let c=b.target.id;"all"===c?(getAllCategories(a),projectsSection.classList.remove("projects-section--category"),getTechnologies()):(getCategories(a,c),projectsSection.classList.add("projects-section--category"),getTechnologies())}});let form=doc.getElementById("form"),inputs=doc.querySelectorAll(".contact-section__form [required] ");inputs.forEach(b=>{let a=doc.createElement("span");a.id=b.name,a.textContent=b.title,a.classList.add("contact-section__validation"),b.insertAdjacentElement("afterend",a)});let keyDownMethod=a=>{let b=doc.getElementById(a.name),c=a.pattern||a.dataset.pattern,d=new RegExp(c,"ig");if(b)return!d.test(a.value)&&""!==a.value||a.value.length>255?b.classList.add("contact-section__validation--activate"):b.classList.remove("contact-section__validation--activate")};form.addEventListener("keyup",a=>{keyDownMethod(a.target)});let formResponseMethod=(a,b,c)=>{c.classList.remove("contact-section__response--active"),a.textContent=b,a.classList.add("contact-section__response--active"),setTimeout(()=>{a.classList.remove("contact-section__response--active"),form.reset()},3500)},sendSubmit=async e=>{let b=doc.getElementById("form-response"),a=doc.getElementById("loader");try{let f=new FormData(e),g={method:"POST",body:f};a.classList.add("contact-section__response--active");let d=await fetch(`https://formsubmit.co/ajax/${c}`,g),h=await d.json();d.ok&&"true"===h.success?formResponseMethod(b,"The message was submitted successfully \u{1F60E}",a):formResponseMethod(b,"Something wrong happened! \u{1F641}",a)}catch(i){formResponseMethod(b,"Something wrong happened! \u{1F641}",a)}};form.addEventListener("submit",a=>{a.preventDefault(),form.message.value.length>255||form.name.value.length>255||form.subject.value.length>255||sendSubmit(a.target)})